{# @var craft \craft\web\twig\variables\CraftVariable #}
{% extends "_layouts/_layout.twig" %}

{% block _inline_css %}
    <style>
        {{ source ("about/index_critical.min.css", ignore_missing = true) }}
    </style>
{% endblock %}

{% block content %}
    
    <section>
        <div class="py-8 w-full">
            <div class="w-full sm:w-5/6 mx-auto">
                {# -- Intro -- #}
                <div>
                    <div class="inline-block text-devmode-pink bg-grey-lightest font-mono text-xs text-left p-8">
                        {{ "We are" |typogrify }}
                    </div>
                </div>
                {# -- Show title -- #}
                <div>
                    <div class="inline-block text-devmode-pink bg-grey-lightest font-mono italic text-bold text-4xl sm:text-5xl p-8">
                        <a href="/" class="title-link" @mouseover="prerenderLink">
                            <strong>
                                {{ showInfo.showTitle }}
                            </strong>
                        </a>
                    </div>
                </div>
                {# -- Show hosts -- #}
                <div>
                    <div class="inline-block text-devmode-pink bg-grey-lightest font-mono text-xs text-left p-8">
                        {% for host in craft.users.group("hosts").orderBy("elements.dateCreated ASC").all() %}{{ host.fullName }}{% if not loop.last %}, {% endif %}{% endfor %}
                    </div>
                </div>
                {# -- Recent tags -- #}
                <div>
                    <div class="inline-block bg-grey-lightest p-8">
                        {% for tag in craft.tags.group('episodes').limit(5).all() %}
                            <span class="devmode-tags">
                                #{{ tag.title }}
                            </span>
                        {% endfor %}
                    </div>
                </div>
                {# -- Show summary -- #}
                <div>
                    <div class="inline-block text-devmode-pink bg-grey-lightest font-sans text-xl p-8">
                        {{ showInfo.showDescription |nl2br |typogrify }}
                    </div>
                </div>
                {# -- Reference links -- #}
                {% if  showInfo.showTechnologiesLinks |length %}
                    <div>
                        <div class="inline-block text-devmode-pink bg-grey-lightest font-sans text-2xl p-8">
                            <i class="icon-info-circled align-middle"></i>
                            <ul class="list-reset inline">
                                {% for link in showInfo.showTechnologiesLinks %}
                                    <li class="inline">
                                        <a href="{{ link.linkUrl }}" class="tags-link align-middle whitespace-no-wrap" title="{{ link.linkName }}" rel="nofollow,noopener">{{ link.linkName }}</a>
                                        <span> </span>
                                    </li>
                                {% endfor %}
                            </ul>
                        </div>
                    </div>
                {% endif %}
            </div>
        </div>
    </section>

{% endblock %}

{% block subcontent %}
    <section>
        <div class="bg-devmode-aqua">
            <div class="pt-8">
                <div class="w-full bg-transparent">
                    <div class="pt-8 mb-8">
                        <h3 class="text-white text-center">
                            Our Hosts
                        </h3>
                    </div>
                </div>
            </div>
            {% for host in craft.users.group("hosts").orderBy("elements.dateCreated ASC").all() %}
                <div class="container mx-auto py-8">
                    <div class="flex flex-wrap">
                        {% include "about/_partials/_display_host_excerpt.twig" with {
                            "host": host,
                            "showInfo": showInfo,
                        } only %}
                    </div>
                </div>
            {% endfor %}
        </div>
    </section>
{% endblock %}

{% block _inline_js %}
{% endblock %}
