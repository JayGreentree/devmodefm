{"version":3,"sources":["AssetImageEditor.js"],"names":["Craft","AssetImageEditor","Garnish","Modal","extend","$body","$footer","$imageTools","$buttons","$cancelBtn","$replaceBtn","$saveBtn","$editorContainer","$straighten","$croppingCanvas","$spinnerCanvas","canvas","image","viewport","focalPoint","grid","croppingCanvas","clipper","croppingRectangle","cropperHandles","cropperGrid","croppingShade","imageStraightenAngle","viewportRotation","originalWidth","originalHeight","imageVerticeCoords","zoomRatio","animationInProgress","currentView","assetId","cacheBust","draggingCropper","scalingCropper","draggingFocal","previousMouseX","previousMouseY","shiftKeyHeld","editorHeight","editorWidth","cropperState","scaleFactor","flipData","focalPointState","croppingConstraint","spinnerInterval","maxImageSize","lastLoadedDimensions","imageIsLoading","renderImage","renderCropper","init","settings","this","Date","now","setSettings","defaults","x","y","$container","$","appendTo","$bod","base","t","allowSavingAsNew","addListener","saveImage","bind","proxy","removeListener","$shade","getMaxImageSize","postActionRequest","browserViewportWidth","$doc","get","documentElement","clientWidth","browserViewportHeight","clientHeight","Math","max","window","devicePixelRatio","loadEditor","data","html","alert","$tabs","$viewsContainer","$views","innerHeight","innerWidth","_showSpinner","updateSizeAndPosition","fabric","StaticCanvas","width","height","enableRetinaScaling","requestAnimationFrame","renderAll","imageUrl","getActionUrl","size","Image","fromURL","imageObject","set","originX","originY","left","top","add","getHeight","getWidth","getScaledImageDimensions","_setFittedImageVerticeCoordinates","_repositionEditorElements","focalState","imageDimensions","offsetX","offsetY","focal","focalData","adjustedX","adjustedY","storeFocalPointState","_createFocalPoint","_createViewport","storeCropperState","_addControlListeners","_handleMouseMove","_handleMouseDown","_handleMouseUp","ev","_hideSpinner","first","trigger","_reloadImage","setSrc","css","min-width","min-height","addClass","removeClass","parent","previousEditorDimensions","setDimensions","currentScaledDimensions","getZoomToFitRatio","previouslyOccupiedArea","_getBoundingRectangle","_repositionCropper","getZoomToCoverRatio","_repositionImage","_repositionViewport","_repositionFocalPoint","_zoomImage","Rect","fill","globalCompositeOperation","sizeFactor","focalX","focalY","deltaX","deltaY","Group","Circle","radius","strokeWidth","stroke","toggleFocalPoint","remove","dimensions","state","scaledImageDimensions","currentWidth","newWidth","ratio","hasOrientationChanged","imageRatio","editorRatio","min","round","rotateImage","flipImage","straighteningInput","SlideRuleInput","onStart","_showGrid","onChange","slider","straighten","onEnd","_hideGrid","_cleanupFocalPointAfterStraighten","keyCode","SHIFT_KEY","constraintMenu","MenuBtn","onOptionSelect","option","setCroppingConstraint","enforceCroppingConstraint","menu","_handleTabClick","$tab","currentTarget","view","showView","$view","filter","enableSlider","disableSlider","disableCropMode","enableCropMode","zoomFactor","degrees","parseInt","imageZoomRatio","newAngle","angle","viewportProperties","imageProperties","angleInRadians","PI","newDeltaX","cos","sin","newDeltaY","modifiedDeltaX","modifiedDeltaY","temp","animate","duration","animationDuration","onComplete","cleanAngle","parseFloat","_adjustFocalPointByAngle","_resetFocalPointPosition","axis","editorCenter","setValue","properties","scaleY","scaleX","previousAngle","allowDegreeFractions","value","_adjustEditorElementsOnStraighten","newCenterX","newCenterY","angleDelta","currentZoomRatio","adjustmentRatio","cropperCenterX","cropperCenterY","imageVertices","getImageVerticeCoords","rectangle","_getZoomRatioToFitRectangle","_isCenterInside","opacity","object","containingObject","newFocalX","newFocalY","adjustedFocalX","adjustedFocalY","containingVertices","vertex","rectangleVertices","_getRectangleVertices","verticeIndex","length","arePointsInsideRectangle","edge","_getEdgeCrossed","rectangleCenter","distanceFromVertexToEdge","abs","sqrt","pow","distanceFromCenterToEdge","$button","hasClass","append","postData","imageRotation","replace","cropData","zoom","find","end","error","onSave","hide","scaledWidth","scaledHeight","boundingBox","_getImageBoundingBox","scale","vertScale","horiScale","getCombinedZoomRatio","i","strokeOptions","lineCount","gridWidth","gridHeight","xStep","yStep","push","Line","onFadeOut","destroy","show","removeAllListeners","callback","cropperData","_showCropper","_editorModeTransition","_hideCropper","targetZoom","inverseZoomFactor","imageOffsetX","imageOffsetY","document","getElementById","context","getContext","start","lines","cW","cH","draw","rotation","save","clearRect","translate","rotate","beginPath","moveTo","lineTo","lineWidth","strokeStyle","restore","setInterval","clearInterval","clipperData","_setupCropperLayer","_redrawCropperElements","backgroundColor","hoverCursor","selection","position","rectangleRatio","rectWidth","rectHeight","lineOptions","gridOptions","pathGroup","Path","previousImageArea","currentOffset","currentArea","areaFactor","coordinateSet","a","b","c","d","_isMouseOver","move","handle","_cropperHandleHitTest","pageX","pageY","_handleFocalDrag","_handleCropperDrag","_handleCropperResize","_setMouseCursor","vertices","newX","newY","constraint","previousHeight","previousWidth","topDelta","leftDelta","change","match","cursor","parentOffset","offset","mouseX","mouseY","lb","rb","tb","bb","event","topLeft","topRight","bottomRight","bottomLeft","zoomMode","topVerticalSegment","bottomVerticalSegment","rightHorizontalSegment","leftHorizontalSegment","verticalOffset","horizontalOffset","_debug","fabricObj","debugger","points","ab","_getVector","bc","scalarAbAb","_getScalarProduct","scalarBcBc","point","ap","bp","scalarAbAp","scalarBcBp","projectsOnAB","projectsOnBC","_getVectorMagnitude","vector","_getAngleBetweenVectors","acos","edgePoints","centerPoint","smallestDiff","edgeCrossed","edgeIndex","toCenter","edgeVector","toVertex","diff","box","proportion","noop"],"mappings":"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","file":"AssetImageEditor.min.js"}